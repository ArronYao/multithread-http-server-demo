# 简介
这是一个使用C/C++实现的简单的多线程Http服务器，目前可以实现基础的客户端和服务器端通信，并可以为客户端提供少量的服务。

# 技术点
- 多线程 程序创建一个监听套接字负责在制定的端口监听来自客户端的连接请求，此外，程序创建一个线程池，里面的每个线程是实际的工作线程，具体处理来自客户端的请求。
- 基于生产者-消费者模式的线程间通信 主线程中维护一个监听套接字，当监听套接字侦测到连接请求时，程序会基于此创建一个连接套接字，并将套接字放在缓冲区中。线程池的工作线程在自己空闲的时候就会去缓冲区取可用的连接套接字，为客户端提供服务。该通信模式实现在sbuf.cpp中。
- 进程间的套接字通信 主要基于sys/socket.h中的api
- 文件的读写工作

# 编译和安装
## 单线程服务器
g++ -g ./multithread_server.cpp ./tools.cpp ./sbuf.cpp -o ./multithread_server -lpthread

## 多线程服务器
g++ -g ./server.cpp ./tools.cpp ./sbuf.cpp -o ./server -lpthread

# 未来工作
- 完善错误处理机制。当前版本对于客户端操作错误的非常不全面，相关的代码也没有模块化，未来拟抽象出一个专门的模块来过滤来自客户端的请求。
- 完善服务器本身逻辑。例如当前版本未处理SIGPIPE信号等，程序还很不鲁棒。
- sbuf用泛型改写，提升代码通用性。
- 考虑提供允许客户端访问并修改服务器资源的服务，并处理由此带来的读者-写者问题。
- 使用更现代化的C++代码重新实现当前代码。

